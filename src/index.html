<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>x</title>

    <script type="text/javascript" crossorigin="use-credentials">
        document.domain = "nekoyouknow.com";

        //1.일단 비워
        localStorage.removeItem("token");
        console.log("1.remove token=", localStorage.getItem("token")); 
        document.write("1.remove token=" + localStorage.getItem("token"));

        //2.서버응답을 기다려
        window.addEventListener("message", function(e) {
            if (e.origin === "https://sso.nekoyouknow.com" ) {
              localStorage.setItem("token", e.data);
                console.log("2.message received -setItem:", localStorage.getItem("token"));
                document.write("2.message received token=" + localStorage.getItem("token"));
            }
        });      
    </script>

</head>
<body>
    <iframe src="https://sso.nekoyouknow.com/check.html" style="width:100; height:10; border:0; background-color:yellow"></iframe>
    x.nekoyouknow
</body>
</html>